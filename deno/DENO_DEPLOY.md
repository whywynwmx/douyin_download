# ğŸ¦• Deno Deploy éƒ¨ç½²æŒ‡å—

## ğŸ¯ ä¸ºä»€ä¹ˆé€‰æ‹© Deno Deployï¼Ÿ

### âœ… ä¼˜åŠ¿
- **å®Œå…¨å…è´¹**: æ¯æœˆ100,000æ¬¡è¯·æ±‚
- **æ— éœ€ä¿¡ç”¨å¡**: ç›´æ¥æ³¨å†Œä½¿ç”¨
- **å…¨çƒCDN**: è‡ªåŠ¨è¾¹ç¼˜éƒ¨ç½²ï¼Œè¶…å¿«å“åº”
- **é›¶é…ç½®**: æ¨é€ä»£ç å³éƒ¨ç½²
- **TypeScriptåŸç”Ÿ**: ç±»å‹å®‰å…¨ï¼Œç°ä»£å¼€å‘ä½“éªŒ
- **è‡ªåŠ¨HTTPS**: å†…ç½®SSLè¯ä¹¦
- **æ— æœåŠ¡å™¨**: æ— éœ€ç®¡ç†æœåŠ¡å™¨

### âš ï¸ é™åˆ¶
- æœ‰ç½‘ç»œè¯·æ±‚é™åˆ¶ï¼ˆä½†æŠ–éŸ³APIå¯ä»¥è®¿é—®ï¼‰
- æ¯ä¸ªè¯·æ±‚æœ‰æ‰§è¡Œæ—¶é—´é™åˆ¶
- ä¸æ”¯æŒæŒä¹…åŒ–å­˜å‚¨

---

## ğŸš€ å¿«é€Ÿéƒ¨ç½²æ­¥éª¤

### æ–¹æ³•1: GitHubé›†æˆï¼ˆæ¨èï¼‰

1. **æ¨é€ä»£ç åˆ°GitHub**
   ```bash
   git add deno/
   git commit -m "Add Deno Deploy version"
   git push origin main
   ```

2. **éƒ¨ç½²åˆ°Deno Deploy**
   - è®¿é—® [deno.com/deploy](https://deno.com/deploy)
   - ä½¿ç”¨GitHubè´¦æˆ·ç™»å½•
   - ç‚¹å‡» "New Project"
   - é€‰æ‹© "Deploy from GitHub"
   - é€‰æ‹©ä½ çš„ä»“åº“
   - å…¥å£æ–‡ä»¶è®¾ç½®ä¸º: `deno/main.ts`
   - ç‚¹å‡» "Deploy"

3. **ç­‰å¾…éƒ¨ç½²å®Œæˆ**
   - Denoä¼šè‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²
   - è·å¾—å…¨çƒå¯è®¿é—®çš„URL

### æ–¹æ³•2: ç›´æ¥ä¸Šä¼ 

1. è®¿é—® [deno.com/deploy](https://deno.com/deploy)
2. ç™»å½•åç‚¹å‡» "New Project"
3. é€‰æ‹© "Playground"
4. å°† `main.ts` çš„å†…å®¹å¤åˆ¶ç²˜è´´è¿›å»
5. ç‚¹å‡» "Save & Deploy"

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
deno/
â”œâ”€â”€ main.ts          # ä¸»æœåŠ¡æ–‡ä»¶
â”œâ”€â”€ deno.json        # Denoé…ç½®æ–‡ä»¶
â”œâ”€â”€ deno.jsonc       # å¼€å‘é…ç½®æ–‡ä»¶
â””â”€â”€ DENO_DEPLOY.md   # éƒ¨ç½²è¯´æ˜
```

---

## ğŸ§ª æœ¬åœ°æµ‹è¯•

åœ¨éƒ¨ç½²å‰ï¼Œä½ å¯ä»¥å…ˆåœ¨æœ¬åœ°æµ‹è¯•ï¼š

### å®‰è£…Deno
```bash
# macOS/Linux
curl -fsSL https://deno.land/install.sh | sh

# Windows (PowerShell)
iwr https://deno.land/install.ps1 -useb | iex
```

### è¿è¡ŒæœåŠ¡
```bash
cd deno/
deno task start
```

### æµ‹è¯•API
```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
curl http://localhost:8000/

# æµ‹è¯•æŠ–éŸ³ä¸‹è½½
curl -X POST http://localhost:8000/api/v1/douyin \
  -H "Content-Type: application/json" \
  -d '{"share_link": "https://v.douyin.com/xxxxxx/"}'
```

---

## ğŸŒ APIç«¯ç‚¹

éƒ¨ç½²æˆåŠŸåï¼Œä½ å°†è·å¾—ç±»ä¼¼è¿™æ ·çš„URLï¼š
`https://your-project-name.deno.dev`

### å¯ç”¨ç«¯ç‚¹ï¼š

1. **GET /** - æœåŠ¡çŠ¶æ€æ£€æŸ¥
   ```bash
   curl https://your-project-name.deno.dev/
   ```

2. **POST /api/v1/douyin** - è·å–æŠ–éŸ³è§†é¢‘ä¸‹è½½é“¾æ¥
   ```bash
   curl -X POST https://your-project-name.deno.dev/api/v1/douyin \
     -H "Content-Type: application/json" \
     -d '{"share_link": "ä½ çš„æŠ–éŸ³åˆ†äº«é“¾æ¥"}'
   ```

3. **GET /api/v1/douyin/proxy** - è§†é¢‘ä»£ç†æœåŠ¡
   ```bash
   curl "https://your-project-name.deno.dev/api/v1/douyin/proxy?url=è§†é¢‘URL"
   ```

---

## ğŸ”§ é…ç½®è¯´æ˜

### deno.json
```json
{
  "version": "1.0.0",
  "tasks": {
    "start": "deno run --allow-net --allow-env main.ts"
  },
  "imports": {
    "cors": "https://deno.land/x/cors@v1.2.2/mod.ts"
  }
}
```

### æƒé™è¯´æ˜
- `--allow-net`: å…è®¸ç½‘ç»œè¯·æ±‚ï¼ˆè®¿é—®æŠ–éŸ³APIï¼‰
- `--allow-env`: å…è®¸è¯»å–ç¯å¢ƒå˜é‡

---

## ğŸ“Š æ€§èƒ½å’Œé™åˆ¶

### å…è´¹é¢åº¦
- âœ… æ¯æœˆ100,000æ¬¡è¯·æ±‚
- âœ… æ— é™å¸¦å®½
- âœ… å…¨çƒCDNåŠ é€Ÿ
- âœ… è‡ªåŠ¨HTTPS

### é™åˆ¶è¯´æ˜
- å•ä¸ªè¯·æ±‚æœ€é•¿æ‰§è¡Œæ—¶é—´: 10ç§’
- å†…å­˜é™åˆ¶: 128MB
- ä¸æ”¯æŒWebSocketé•¿è¿æ¥

---

## ğŸ”„ è‡ªåŠ¨éƒ¨ç½²

å½“è¿æ¥GitHubåï¼Œæ¯æ¬¡æ¨é€ä»£ç åˆ°mainåˆ†æ”¯æ—¶ï¼ŒDeno Deployä¼šè‡ªåŠ¨é‡æ–°éƒ¨ç½²ï¼š

```bash
git add .
git commit -m "Update API"
git push origin main
# è‡ªåŠ¨è§¦å‘é‡æ–°éƒ¨ç½²
```

---

## ğŸ¯ ä¸å…¶ä»–å¹³å°å¯¹æ¯”

| å¹³å° | å…è´¹é¢åº¦ | å†·å¯åŠ¨ | å…¨çƒCDN | é…ç½®å¤æ‚åº¦ |
|------|----------|--------|----------|------------|
| **Deno Deploy** | 100k/æœˆ | âš¡ æå¿« | âœ… å…¨çƒ | â­ æœ€ç®€å• |
| Railway | 500h/æœˆ | ğŸŒ è¾ƒæ…¢ | âŒ å•åŒºåŸŸ | â­â­ ä¸­ç­‰ |
| Oracle Cloud | æ°¸ä¹…å…è´¹ | âœ… æ—  | âŒ å•åŒºåŸŸ | â­â­â­ å¤æ‚ |

---

## ğŸš¨ æ³¨æ„äº‹é¡¹

1. **ç½‘ç»œé™åˆ¶**: Deno Deployå¯¹æŸäº›åŸŸåå¯èƒ½æœ‰è®¿é—®é™åˆ¶
2. **æ‰§è¡Œæ—¶é—´**: å¤æ‚è¯·æ±‚å¯èƒ½åœ¨10ç§’å†…è¶…æ—¶
3. **æ— çŠ¶æ€**: ä¸èƒ½ä¾èµ–æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿæˆ–æ•°æ®åº“
4. **æ—¥å¿—**: éœ€è¦ä½¿ç”¨Denoçš„æ—¥å¿—ç³»ç»ŸæŸ¥çœ‹é”™è¯¯

---

## âœ… æ¨èç†ç”±

**æœ€é€‚åˆä½ çš„é€‰æ‹©ï¼Œå› ä¸ºï¼š**
- ğŸ†“ å®Œå…¨å…è´¹ï¼Œæ— éœ€ä¿¡ç”¨å¡
- ğŸš€ éƒ¨ç½²é€Ÿåº¦æå¿«ï¼ˆå‡ ç§’é’Ÿï¼‰
- ğŸŒ å…¨çƒCDNï¼Œç”¨æˆ·è®¿é—®é€Ÿåº¦å¿«
- ğŸ”§ é…ç½®ç®€å•ï¼Œå‡ ä¹é›¶é…ç½®
- ğŸ’» ç°ä»£TypeScriptå¼€å‘ä½“éªŒ

**è¿™æ˜¯ç›®å‰æœ€ç®€å•ã€æœ€å¿«é€Ÿçš„å…è´¹éƒ¨ç½²æ–¹æ¡ˆï¼**